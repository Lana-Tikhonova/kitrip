document.addEventListener("DOMContentLoaded",()=>{AOS.init({easing:"ease-in-out",delay:100,once:!0,duration:700,offset:window.innerWidth<577?0:100}),document.querySelector(".menu_btn").addEventListener("click",function(){this.classList.toggle("active"),document.querySelector(".mobile_menu").classList.toggle("active")}),document.querySelector(".arrow_mobile_bottom")?.addEventListener("click",function(e){e.preventDefault();const t=document.getElementById("tours");if(t){const e=t.getBoundingClientRect().top+window.pageYOffset-20;window.scrollTo({top:e,behavior:"smooth"})}});let e=[];function t(){e.forEach(e=>e.destroy()),e=[],window.innerWidth>768&&document.querySelectorAll(".parallax").forEach(t=>{let a=new Parallax(t);e.push(a)})}t(),window.addEventListener("resize",()=>{t()});document.querySelectorAll('.form_input[type="tel"]').forEach(e=>{IMask(e,{mask:"+{7}(000)000-00-00"})});new Swiper(".head_slider",{slidesPerView:1,spaceBetween:16,watchSlidesProgress:!0,mousewheelControl:!0,watchOverflow:!0,watchSlidesVisibility:!0,effect:"fade",fadeEffect:{crossFade:!0},speed:1e3,autoplay:{delay:3500,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".team_list",{slidesPerView:"auto",spaceBetween:16,watchSlidesProgress:!0,mousewheelControl:!0,watchOverflow:!0,watchSlidesVisibility:!0,breakpoints:{992:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".why_slider",{slidesPerView:1,spaceBetween:16,watchSlidesProgress:!0,mousewheelControl:!0,watchOverflow:!0,watchSlidesVisibility:!0,allowTouchMove:!1,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},speed:1e3,autoplay:{delay:3500,disableOnInteraction:!1}}),new Swiper(".full_slider",{slidesPerView:1,spaceBetween:16,watchSlidesProgress:!0,mousewheelControl:!0,watchOverflow:!0,watchSlidesVisibility:!0,effect:"fade",fadeEffect:{crossFade:!0},speed:1e3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}});document.querySelectorAll(".reviews_slider_wrapper").forEach(e=>{const t=e.querySelector(".reviews_slider"),a=e.querySelector(".swiper-button-next"),i=e.querySelector(".swiper-button-prev");new Swiper(t,{slidesPerView:"auto",spaceBetween:16,watchSlidesProgress:!0,mousewheelControl:!0,watchOverflow:!0,watchSlidesVisibility:!0,speed:1e3,navigation:{nextEl:a,prevEl:i},breakpoints:{1201:{slidesPerView:2,spaceBetween:40}},pagination:{el:".swiper-pagination",clickable:!0}})});document.querySelectorAll(".tabs").forEach(e=>{const t=e.querySelectorAll(".tab_btn"),a=e.querySelectorAll(".tab_pane");t.forEach(i=>{i.addEventListener("click",()=>{const n=i.getAttribute("data-tab");t.forEach(e=>e.classList.remove("active")),a.forEach(e=>e.classList.remove("active")),i.classList.add("active");const o=e.querySelector(`.tab_pane[data-tab-id="${n}"]`);o?o.classList.add("active"):console.warn(`Таб с data-tab-id="${n}" не найден`)})})});const a=document.querySelectorAll(".theme_switch");function i(e){const t="dark"===e;document.body.classList.toggle("dark_theme",t),localStorage.setItem("theme",e),a.forEach(e=>{e.classList.toggle("active",t)})}const n=localStorage.getItem("theme");("dark"===n||!n&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&i("dark"),a.forEach(e=>{const t=e.querySelector(".item.-dark"),a=e.querySelector(".item.-light");t&&t.addEventListener("click",()=>{i("dark")}),a&&a.addEventListener("click",()=>{i("light")})}),tippy(".tippy_btn",{placement:"bottom",maxWidth:"150px",animation:"scale",interactive:!0,duration:[400,200],theme:"consumable_theme"}),document.querySelectorAll(".faq_item .question").forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement,a=t.querySelector(".answer");a.style.maxHeight?(a.style.maxHeight=null,t.classList.remove("active")):(a.style.maxHeight=a.scrollHeight+"px",t.classList.add("active"))})}),document.addEventListener("click",function(e){const t=e.target.closest(".selection_quantity .button");if(!t)return;const a=t.closest(".selection_quantity").querySelector(".counter");let i=parseInt(a.getAttribute("data-count"),10);const n=parseInt(a.getAttribute("min"),10)||0;t.classList.contains("down")?i=Math.max(n,i-1):t.classList.contains("up")&&(i+=1),a.value=i,a.setAttribute("data-count",i),a.dispatchEvent(new Event("change",{bubbles:!0}))}),document.addEventListener("input",function(e){if(e.target.matches(".selection_quantity .counter")){const t=e.target,a=parseInt(t.value,10),i=parseInt(t.getAttribute("min"),10)||0,n=isNaN(a)?i:Math.max(i,a);t.value=n,t.setAttribute("data-count",n),t.dispatchEvent(new Event("change",{bubbles:!0}))}}),$.validator.addMethod("phoneRU",function(e,t){const a=e.replace(/\D/g,"");return this.optional(t)||11===a.length},"Введите корректный номер телефона"),$("form.validate").each(function(){$(this).validate({errorPlacement:function(e,t){e.appendTo(t.closest(".form_input_group"))},highlight:function(e,t,a){$(e).addClass(t),$(e).closest(".form_input_group").addClass(t)},unhighlight:function(e,t,a){$(e).removeClass(t),$(e).closest(".form_input_group").removeClass(t)},rules:{agree:"required",phone:{required:!0,phoneRU:!0}},messages:{agree:""}})}),document.querySelectorAll(".radio_block").forEach(e=>{const t=e.querySelectorAll('input[type="radio"][name="phone"]'),a=e.querySelector('.radio_input input[type="tel"]');function i(){const t=e.querySelector('input[type="radio"][name="phone"]:checked');if(!t)return;const i=t.closest("label"),n=i.querySelector(".text")?.textContent.trim();n.includes("WhatsApp")?a.placeholder="Номер телефона с WhatsApp":n.includes("Telegram")?a.placeholder="Номер телефона с Telegram":a.placeholder="Номер телефона"}i(),t.forEach(e=>{e.addEventListener("change",i)})})});